function remoteSearch(a,b){a.length<MIN_MENTION_LENGTH?b([]):$.getJSON(U_AJAX_MENTION_URL,{q:a},function(a){b(a)})}
var tribute_ment={trigger:"@",menuItemTemplate:function(a){return"group"===a.original.type?a.original.value+SIMPLE_MENTION_GROUP_NAME.replace("{CNT}",a.original.cnt):a.original.value},selectTemplate:function(a){if("user"===a.original.type)return"[smention u\x3d"+a.original.user_id+"]"+a.original.value+"[/smention]";if("group"===a.original.type)return"[smention g\x3d"+a.original.group_id+"]"+a.original.value+"[/smention]"},values:function(a,b){0<a.length&&a.length<=parseInt(maxncharc)&&remoteSearch(a,
b)},spaceSelectsMatch:!0,lookup:"value"};
CKEDITOR.once("currentInstance",function(){tribute_add=[];parseInt(rin_emoji_autocomplete)&&tribute_add.push(CKEDITOR.instances[CKEDITOR.currentInstance.name]._.emoji.tribute_emoji);parseInt(rin_ment_sup)&&"undefined"!==typeof U_AJAX_MENTION_URL&&tribute_add.push(tribute_ment);if(0!=tribute_add.length){var a=new Tribute({collection:tribute_add});CKEDITOR.currentInstance.on("key",function(b){if("Enter"==b.data.domEvent.$.key&&a.isActive)return!1});CKEDITOR.currentInstance.on("mode",function(b){"source"==
b.editor.mode?a.attach($("#"+CKEDITOR.currentInstance.name+"_2")):a.attach(CKEDITOR.currentInstance.document.$.body)});"source"==CKEDITOR.instances[CKEDITOR.currentInstance.name].mode?a.attach($("#"+CKEDITOR.currentInstance.name+"_2")):a.attach(CKEDITOR.currentInstance.document.$.body)}});